# RealCheck_web
부동산 허위매물 데이터를 활용해 해당 매물이 허위매물인지 예측하는 경진대회에 참여해 모델링을 수행했고 개발한 모델을 가지고 웹 서비스를 구현했습니다.

# 부동산 허위매물 예측 웹 서비스
--------------------------------------
## 🛠️ 기술 스택
- **언어**: Python, JavaScript, SQL
- **라이브러리**: Scikit-learn, XGBoost
- **데이터 분석 & 처리**: Pandas, NumPy
- **MLOps & 배포**: Docker, Flask  
- **데이터베이스**: PostgreSQL
---------------------------------
## 블로그 정리 및 이슈 해결 사항
XGBoost를 선택한 이유
[https://velog.io/@kimminyoung0/ML-XGBoost-LightGBM-CatBoost-비교](https://velog.io/@kimminyoung0/ML-XGBoost-LightGBM-CatBoost-비교)
- [EDA](https://velog.io/@kimminyoung0/EDA)
- [매물을 저층, 중층, 고층으로 나누고 싶을 때](https://velog.io/@kimminyoung0/매물을-저층-중층-고층으로-나누고-싶을-때-t-분포f-분포)
- [데이터 전처리](https://velog.io/@kimminyoung0/데이터-전처리)

---------------------------------
## Dataset Info
train.csv
ID : 샘플별 고유 ID / 매물확인방식 / 보증금 / 월세 / 전용면적 / 해당층 / 총층 / 방향 / 방수 / 욕실수 / 주차가능여부 / 총주차대수 / 관리비 / 중개사무소 / 제공플랫폼 / 게재일 / 허위매물여부

test.csv 
ID : 샘플별 고유 ID / 매물확인방식 / 보증금 / 월세 / 전용면적 / 해당층 / 총층 / 방향 / 방수 / 욕실수 / 주차가능여부 / 총주차대수 / 관리비 / 중개사무소 / 제공플랫폼 / 게재일

sample_submission.csv - 제출 양식
ID : 샘플별 고유 ID / 허위매물여부

------------------------------------------

## EDA
### 기술통계
전용면적, 해당층, 총층, 방수, 욕실수, 총주차대수에서 결측치가 나타나며, 그 외의 변수에서는 샘플 수가 2452개로 결측치가 없습니다.
<img width="952" alt="스크린샷 2025-02-17 오후 8 38 08" src="https://github.com/user-attachments/assets/98814174-1e82-4a4e-8814-9b9f5846ef0d" />
- 보증금 : 평균 1억 5741만원 / 최소값 500만원
- 월세 : 평균 38만원 / 최소값 0만원
- 관리비 : 5.48만원 / 최소값 0만원
- 방수: 평균 1.38개
- 옥실수: 평균 1.03개
-> 주로 원룸이나 오피스텔의 가능성이 높습니다.
<img width="950" alt="스크린샷 2025-02-17 오후 8 40 19" src="https://github.com/user-attachments/assets/1db60bae-6f4b-45e0-bf4f-f0b2504d1b57" />
결측치 787개를 제외한 전용면적 분포를 보면 17.5(제곱미터) 내외가 가장 많아 원룸이 많고, 소형 오피스텔이나 대형 오피스텔이 있는 것으로 보입니다.

## DataPreprocessing
### EDA 결과
- 원본 데이터는 선형관계가 거의 없다.
- 해당층이 낮을수록 허위매물이 많이 분포하는 경향이 있다.
- 방향 변수의 북향 값이 허위매물 비율이 높다. (<- 북향의 경우 인기가 없는 매물이라 조건을 더 부풀릴 수도 있고, 낮은 가격을 미끼로 삼을 수 있다.)
- 여름에 허위매물이 증가하는 경향을 보이고 겨울에는 감소하는 경향을 보인다.
- 매물을 등록하면 특정 날 수를 기점으로 허위매물이 발생한다.

### 허위매물 판단 기준
- 주변 시세보다 가격이 싼지
- 매물을 등록한지 오래되었는지
- 다른 매물에 비해 기본 정보가 누락되었는지
  
위와 같은 허위매물 판단 기준으로 새로운 변수들을 생성했습니다.
### 매물 클러스터링 및 지역 클러스터링
- 매물은 전용면적, 방수, 욕실수등의 변수를 사용해 계층적 군집화와 DBSCAN으로 클러스터링을 진행했습니다.
- 지역 클러스터링은 매물_HC, 매물_DBSCAN, 전용면적_가격_비율, 보증금_월세관리비_비율 등의 변수를 사용해 KMedoids와 HDBSCAN으로 클러스터링을 진행했습니다.
![지역별매물산점도_전용면적_보증금월세관리비비율_통합](https://github.com/user-attachments/assets/44b4e02d-74f8-4eb5-8cdf-0e8ddf1ba933)
![지역별매물산점도_보증금_월세관리비_통합](https://github.com/user-attachments/assets/619071dd-8c89-4959-bc28-66090e2c6c3b)

- 실험을 통해 모델 성능이 좋은 매물_HC와 지역_KMedoids를 이용해 훈련 데이터에 포함시켰습니다.
### 매물 등록 경과일 변수 생성
훈련 데이터의 게재일 변수 최대값과 해당 샘플의 게재일 차이를 이용해 매물 등록 경과일 변수를 생성했습니다.
### 결측치 개수 변수 생성
하나의 샘플에서 결측치 개수를 계산해 변수로 생성했습니다.
### 기타

### VIF와 상관관계 히트맵을 이용해 다중공선성 완화
상관관계 히트맵을 확인하면서 

## Model Train & Predict
XGBoost를 주로 사용했습니다.

## 데이터베이스 구조 설계

## 모델 배포 (Deployment)
- Flask 및 Docker를 활용한 API 개발
- PostgreSQL 연동 및 데이터 저장 기능 구현
- 데이터 조회 기능 개발중

## 웹 서비스 개발 (Web Service)
- Flask 기반의 백엔드 구축
- Docker를 이용한 컨테이너화 및 배포
<img width="2265" alt="스크린샷 2025-02-19 오전 4 47 39" src="https://github.com/user-attachments/assets/085c7747-bd80-4be8-8bd3-cf92168d0cc4" />


